{% extends '../base.html' %}
{% load static %}

{% block title %} Index | Barbershop {% endblock %}

{% block body %}
<div class="container bg-light mb-5 border rounded-1 p-3 ">
  <h2>agendamento</h2>
<form class="container w-50 border rounded-2 p-2 bg-white shadow-sm" action="" method="POST">
  {% csrf_token %}
  <div class="d-flex flex-column container mb-5">
    <div class="d-flex justify-content-between">
      <p>{{form_agendamento.horario.label}}</p>
      <div>{{form_agendamento.horario}}</div>
    </div>
    <div class="d-flex justify-content-between">
      <p>{{form_agendamento.data.label}}</p>
      <div>{{form_agendamento.data}}</div>
    </div>
    <div class="d-flex justify-content-between">
      <p>{{form_agendamento.barbeiro.label}}</p>
      <div>{{form_agendamento.barbeiro}}</div>
    </div>
    <div class="d-flex justify-content-between mt-3">
      <label for="">selecione o serviço desejado:</label>
      <div>{{form_servico_agendamento.id_servico}}</div>
    </div>
    <button class="btn btn-primary mt-3" type="submit">realizar agendamento</button>
  </div>
</form>
</div>

<div class="container bg-light mb-5 border rounded-1 p-3">
  <h2>horarios já marcados:</h2>
  {% if agendamentos %}
    <div class="d-flex justify-content-around">
      {% for agendamento in agendamentos %}
        <div class="container me-3 border bg-white p-3 rounded-2 mb-2">
          <p class="mb-0"><b>barbeiro: </b>{{agendamento.barbeiro.user.username}}</p>
          <p class="mb-0"><b>data: </b>{{agendamento.data}}</p>
          <p class="mb-0"><b>horário: </b>{{agendamento.horario}}</p>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p><b>não exite agendamentos realizados ate o momento!</b></p>
  {% endif %}
</div>
{% endblock %}

{% block js %} <script src="{% static 'js/agendamento.js' %}"></script>{% endblock %}
